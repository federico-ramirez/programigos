{"version":3,"sources":["assets/img/Programigos.png","Services/Helpers/helper.jsx","Services/Users/Users.services.jsx","Contexts/UserContext.jsx","pages/Login/Login.jsx","Services/Admin/Admin.services.jsx","Components/Comment/Comment.jsx","Components/Card/Card.jsx","Components/Post/Posts.jsx","Components/Pagination/Pagination.jsx","pages/Admin/Admin.jsx","pages/Redirect/RedirectUser.jsx","Components/Feed/Feed.jsx","pages/UserFeed/UserFeed.jsx","pages/NotFound/NotFound.jsx","pages/Post/Post.jsx","Components/PrivateRoute/PrivateRoute.jsx","Components/FavoritesCard/FavoritesCard.jsx","Components/FavoritePosts/FavoritePost.jsx","pages/Favorites/Favorites.jsx","App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","getToken","localStorage","getItem","fetchAllPosts","a","limit","page","query","axios","get","headers","params","response","data","postResponse","items","isNextPageAvailable","pages","updatePost","id","title","description","image","formData","URLSearchParams","append","put","createPost","post","stateVisibilityPost","patch","fetchFeedPosts","fetchAllFavoritePosts","favorites","getOnePost","handleLike","handleFavorite","createComment","comment","services","login","username","password","JSON","stringify","status","verifyToken","token","allPostServices","getAllPosts","filters","result","success","console","error","getFavorites","UserContext","React","createContext","TOKEN_KEY","UserProvider","props","useState","undefined","setToken","user","setUser","useEffect","verifyTokenAsync","lsToken","userService","role","setTokenAll","setItem","useCallback","loginAsync","tokenRes","logout","value","useMemo","Provider","useUserContext","context","useContext","Error","Login","setUsername","setPassword","onChange","e","save","target","preventDefault","toast","type","replace","to","className","src","logo","alt","onSubmit","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","placeholder","postServices","getPosts","getPost","sendComment","Comment","getUsername","Card","like","handleComment","isAdmin","onClick","visibility","setComment","userNumber","isLikedByUser","likes","find","isFavoriteByUser","item","moment","require","locale","createdAtJSON","createdAt","createdAtDate","Date","parse","toString","format","updatedAtJSON","updatedAt","updatedAtDate","_id","active","length","disabled","comments","map","index","name","Posts","posts","navigate","changeVisibility","Pagination","next","prev","Admin","useNavigate","setPosts","setPage","setIsNextPageAvailable","recharge","setRecharge","setQuery","fetchPosts","changeAllPosts","rolePages","RedirectUser","Feed","UserFeed","setFavorites","window","scrollTo","NotFound","URLImageRegex","Post","DEFAULT_IMG","useParams","setTitle","setDescription","setImage","create","update","test","PrivateRoute","children","FavoritesCard","FavoritePost","Favorites","fetchFavoritePosts","isDuplicated","element","oldPosts","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f0e1a9ac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Programigos.6f23a76a.png\";","import axios from \"axios\";\r\nexport const BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1/\";\r\n\r\nconst getToken = () => localStorage.getItem('token');\r\n\r\nexport const fetchAllPosts = async ({ limit, page, query }) => {\r\n    const response = await axios.get(`${BASE_URL}post/${query}`, \r\n    {\r\n        headers: {\r\n            \"Authorization\": `Bearer ${getToken()}`\r\n        },\r\n        params: {\r\n            limit: limit, \r\n            page: page\r\n        }\r\n    });\r\n    const postResponse = await response.data;\r\n    \r\n    return { items: postResponse.data, isNextPageAvailable: page + 1 < postResponse.pages }\r\n};\r\n\r\nexport const updatePost = async ({ id, title, description, image }) => {\r\n    const formData = new URLSearchParams();\r\n    formData.append(\"title\", title);\r\n    formData.append(\"description\", description);\r\n    formData.append(\"image\", image);\r\n\r\n    const response = await axios.put(`${BASE_URL}post/update/${id}`,formData,\r\n    {\r\n        headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            \"Authorization\": `Bearer ${getToken()}`\r\n            \r\n        } \r\n    });\r\n\r\n    return response.data;\r\n}\r\n\r\nexport const createPost = async ({ title, description, image }) => {\r\n    const formData = new URLSearchParams();\r\n    formData.append(\"title\", title);\r\n    formData.append(\"description\", description);\r\n    formData.append(\"image\", image);\r\n\r\n    const response = await axios.post(`${BASE_URL}post/create`, formData,\r\n    {\r\n        headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            \"Authorization\": `Bearer ${getToken()}`\r\n            \r\n        } \r\n    });\r\n\r\n    return response.data;\r\n}\r\n\r\nexport const stateVisibilityPost = async ( id ) => {\r\n    const response = await axios.patch(`${BASE_URL}post/toggle/${id}`, null, \r\n    {\r\n        headers: {\r\n            \"Authorization\": `Bearer ${getToken()}`\r\n        } \r\n    });\r\n\r\n    return response.data;\r\n}\r\n\r\n\r\nexport const fetchFeedPosts = async ({ limit, page }) => {\r\n    const response = await axios.get(`${BASE_URL}post/all`,\r\n        {\r\n            headers: {\r\n                \"Authorization\": `Bearer ${getToken()}`\r\n            },\r\n            params: {\r\n                limit: limit,\r\n                page: page\r\n            }\r\n        });\r\n    const postResponse = await response.data;\r\n\r\n    return { items: postResponse.data, isNextPageAvailable: page < postResponse.pages }\r\n};\r\n\r\nexport const fetchAllFavoritePosts = async () => {\r\n    const response = await axios.get(`${BASE_URL}post/fav`,\r\n        {\r\n            headers: {\r\n                \"Authorization\": `Bearer ${getToken()}`\r\n            }\r\n        });\r\n    const postResponse = await response.data;\r\n\r\n    return { items: postResponse.favorites }\r\n};\r\n\r\nexport const getOnePost = async ({ id }) => {\r\n    const response = await axios.get(`${BASE_URL}post/one/${id}`,\r\n        {\r\n            headers: {\r\n                \"Authorization\": `Bearer ${getToken()}`\r\n            }\r\n        })\r\n    return response.data\r\n};\r\n\r\nexport const transformPostData = (postRaw) => {\r\n    if (!postRaw) return null\r\n\r\n    return {\r\n        user: postRaw.user.username,\r\n        title: postRaw.title,\r\n        description: postRaw.description,\r\n        comments: postRaw.comments.map((comment) => comment.comments.description),\r\n        userComments: postRaw.comments.map((user) => user.comments.user.username),\r\n        createdDate: postRaw.createdAt,\r\n        updatedDate: postRaw.updatedAt,\r\n        likes: postRaw.likes.map().count()\r\n    }\r\n};\r\n\r\nexport const handleLike = async (id) => {\r\n    const response = await axios.patch(`${BASE_URL}post/like/${id}`, null, \r\n    {\r\n        headers: {\r\n            \"Authorization\": `Bearer ${getToken()}`\r\n        } \r\n    });\r\n\r\n    return response.data;\r\n}\r\n\r\nexport const handleFavorite = async (id) => {\r\n    const response = await axios.patch(`${BASE_URL}post/fav/${id}`, null, \r\n    {\r\n        headers: {\r\n            \"Authorization\": `Bearer ${getToken()}`\r\n        } \r\n    });\r\n\r\n    return response.data;\r\n}\r\n\r\nexport const createComment = async (id, comment) => {\r\n    const formData = new URLSearchParams();\r\n    formData.append(\"description\", comment);\r\n    const response = await axios.patch(`${BASE_URL}post/comment/${id}`, formData, \r\n    {\r\n        headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            \"Authorization\": `Bearer ${getToken()}`\r\n        } \r\n    });\r\n\r\n    return response.data;\r\n}","import axios from \"axios\";\r\nimport { BASE_URL, fetchFeedPosts, fetchAllFavoritePosts, getOnePost } from \"../Helpers/helper\";\r\n\r\nconst services = {};\r\n\r\nservices.login = async (username, password) => {\r\n    const response = await axios.post(`${BASE_URL}auth/signin`,\r\n        JSON.stringify({\r\n            username: username,\r\n            password: password\r\n        }), {\r\n        headers: {\r\n            \"Content-type\": \"application/json\"\r\n        }\r\n    });\r\n\r\n    if (response.status === 200) {\r\n        const data = await response.data;\r\n        return data;\r\n    }\r\n\r\n    return {};\r\n};\r\n\r\nservices.verifyToken = async (token) => {\r\n    const response = await axios.get(`${BASE_URL}auth/whoami`, {\r\n        headers: {\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    });\r\n\r\n    if (response.status === 200) {\r\n        const data = await response.data;\r\n        return data;\r\n    }\r\n\r\n    return {};\r\n};\r\n\r\nexport const allPostServices = {\r\n    getAllPosts: async (filters = {}) => {\r\n        const { limit = 10, page = 0 } = filters\r\n        try {\r\n            const result = await fetchFeedPosts({ limit, page })\r\n            return { items: result.items, isNextPageAvailable: result.isNextPageAvailable, success: true }\r\n        } catch (error) {\r\n            console.error({ error })\r\n            return { items: [], isNextPageAvailable: false, success: false }\r\n        }\r\n    },\r\n\r\n    getFavorites: async () => {\r\n        try {\r\n            const result = await fetchAllFavoritePosts()\r\n            return { items: result.items, success: true }\r\n        } catch (error) {\r\n            console.error({ error })\r\n            return { items: [], success: false }\r\n        }\r\n    }\r\n}\r\n\r\nexport const favoritesServices = {\r\n    getFavorites: async () => {\r\n        try {\r\n            const result = await fetchAllFavoritePosts()\r\n            return { items: result.items }\r\n        } catch (error) {\r\n            console.error({ error })\r\n            return { items: [], success: false }\r\n        }\r\n    }\r\n}\r\n\r\nexport const getOnePostService = {\r\n    getOnePost: async () => {\r\n        try {\r\n            const result = await getOnePost()\r\n            return { items: result.items }\r\n        } catch (error) {\r\n            console.error({ error })\r\n            return { items: [], success: false }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default services;","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport userService from '../Services/Users/Users.services';\r\n\r\nconst UserContext = React.createContext();\r\nconst TOKEN_KEY = \"token\";\r\nconst USERNAME_KEY = \"username\";\r\n\r\nexport const UserProvider = (props) => {\r\n    const [token, setToken] = useState(undefined);\r\n    const [user, setUser] = useState(undefined);\r\n\r\n    useEffect(() => {\r\n        const verifyTokenAsync = async () => {\r\n            const lsToken = getToken();\r\n\r\n            if(lsToken) {\r\n                const { username, role } = await userService.verifyToken(lsToken);\r\n                if(username && role) {\r\n                    setUser({ username, role });\r\n                    setTokenAll(lsToken);\r\n                    localStorage.setItem(USERNAME_KEY, username);\r\n                }\r\n            }\r\n        }\r\n\r\n        verifyTokenAsync();\r\n    }, [token])\r\n\r\n    const setTokenAll = (token) => {\r\n        localStorage.setItem(TOKEN_KEY, token);\r\n        setToken(token);\r\n    }\r\n\r\n    const login = useCallback((username, password)=> {\r\n        const loginAsync = async () => {\r\n            let status = false;\r\n            try {\r\n                const { token: tokenRes } = await userService.login(username, password);\r\n                if(tokenRes) {\r\n                    setTokenAll(tokenRes);\r\n                    status = true;\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n                console.error(\"Error in login\");\r\n            } finally {\r\n                return status;\r\n            }\r\n        };\r\n\r\n        return loginAsync();\r\n    }, [])\r\n\r\n    const logout = useCallback(() => {\r\n        setUser(undefined);\r\n        setTokenAll(undefined);\r\n    }, [])\r\n\r\n    const value = useMemo(()=> ({\r\n        token: token,\r\n        user: user,\r\n        login: login,\r\n        logout: logout\r\n    }), [token, user, login, logout]);\r\n\r\n    return <UserContext.Provider value={value} {...props} />;\r\n}\r\n\r\nexport const useUserContext = () => {\r\n    const context = React.useContext(UserContext);\r\n\r\n    if (!context) {\r\n        throw new Error(\"useUserContext() must be inside of UserProvider\");\r\n    }\r\n\r\n    return context;\r\n}\r\n\r\nconst getToken = () => localStorage.getItem(TOKEN_KEY);","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { Navigate } from 'react-router-dom'\r\nimport logo from '../../assets/img/Programigos.png'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport { useUserContext } from '../../Contexts/UserContext';\r\n\r\nconst Login = () => {\r\n    const { login, token } = useUserContext();\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const onChange = (e, save) => {\r\n        save(e.target.value);\r\n    }\r\n\r\n    async function onSubmit(e) {\r\n        e.preventDefault();\r\n        const logged = await login(username, password);\r\n\r\n        if (!logged) {\r\n            toast('Error en inicio de sesión', { type: 'warning' });\r\n        }\r\n\r\n        setUsername(\"\");\r\n        setPassword(\"\");\r\n\r\n    }\r\n    \r\n    if (token) {\r\n        return <Navigate replace to=\"/redirect\" />\r\n    }\r\n\r\n    return (\r\n        <div className=\"h-screen bg-green-400 flex flex-col space-y-10 justify-center w-full items-center\">\r\n            <div className=\"bg-white shadow-2xl rounded w-auto h-10/12 min-h-1/2 m-4 p-5 content-around\">\r\n                <img src={logo} alt=\"<Programigos />\" className=\"w-48 m-auto\" />\r\n                <form className=\"space-y-5 mt-5\" onSubmit={onSubmit}>\r\n                    <ToastContainer\r\n                    position=\"top-center\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnFocusLoss\r\n                    draggable\r\n                    pauseOnHover\r\n                    />  \r\n                    <input className=\"w-full h-12 border border-green-700 rounded px-3 text-green-700\"\r\n                        type=\"text\"  \r\n                        placeholder=\"Usuario\" \r\n                        onChange={(e) => onChange(e, setUsername)}\r\n                        value={username}\r\n                    />\r\n                    <input className=\"w-full h-12 border border-green-700 rounded text-green-700 px-3\" \r\n                        type=\"password\"  \r\n                        placeholder=\"Contraseña\"\r\n                        onChange={(e) => onChange(e, setPassword)}\r\n                        value={password} \r\n                    />\r\n                    <button className=\"text-center w-full bg-green-700 rounded px-3 text-white py-3 font-medium hover:bg-indigo-50 hover:text-green-800\" type=\"submit\">Iniciar sesión</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import { \r\n  fetchAllPosts, getOnePost, updatePost, createPost, \r\n  stateVisibilityPost, handleLike, createComment, handleFavorite\r\n} from \"../Helpers/helper\";\r\n\r\nexport const postServices = {\r\n    getPosts: async (filters = {}) => {\r\n      const { limit = 15, page = 0, query } = filters\r\n      try {\r\n        const result = await fetchAllPosts({ limit, page, query});\r\n        return { items: result.items, isNextPageAvailable: result.isNextPageAvailable, success: true };\r\n  \r\n      } catch (error) {\r\n        console.error({ error });\r\n        return { items: [], isNextPageAvailable: false, success: false };\r\n      }\r\n    },\r\n\r\n    getPost: async ( id ) => {\r\n      try {\r\n        const result = await getOnePost({ id });\r\n        return { data: result, success: true };\r\n  \r\n      } catch (error) {\r\n        console.error({ error });\r\n        return { data: '', success: false };\r\n      }\r\n    },\r\n\r\n    updatePost: async ( id, title, description, image ) => {\r\n      try {\r\n        const result = await updatePost({ id, title, description, image });\r\n        return { data: result, success: true };\r\n  \r\n      } catch (error) {\r\n        console.error({ error });\r\n        return { data: '', success: false };\r\n      }\r\n    },\r\n\r\n    createPost: async ( title, description, image ) => {\r\n      try {\r\n        const result = await createPost({ title, description, image });\r\n        return { data: result, success: true };\r\n  \r\n      } catch (error) {\r\n        console.error({ error });\r\n        return { data: '', success: false };\r\n      }\r\n    },\r\n\r\n    stateVisibilityPost: async ( id ) => {\r\n      try {\r\n        const result = await stateVisibilityPost(id);\r\n        return { data: result, success: true };\r\n  \r\n      } catch (error) {\r\n        console.error({ error });\r\n        return { data: '', success: false };\r\n      }\r\n    },\r\n\r\n    handleLike: async (id) => {\r\n      try {\r\n        const result = await handleLike(id);\r\n        return { data: result, success: true };\r\n  \r\n      } catch (error) {\r\n        console.error({ error });\r\n        return { data: '', success: false };\r\n      }\r\n    },\r\n\r\n    handleFavorite: async (id) => {\r\n      try {\r\n        const result = await handleFavorite(id);\r\n        return { data: result, success: true };\r\n  \r\n      } catch (error) {\r\n        console.error({ error });\r\n        return { data: '', success: false };\r\n      }\r\n    },\r\n\r\n    sendComment: async (id, comment) => {\r\n      try {\r\n        const result = await createComment(id, comment);\r\n        return { data: result, success: true };\r\n  \r\n      } catch (error) {\r\n        console.error({ error });\r\n        return { data: '', success: false };\r\n      }\r\n    }\r\n};","const Comment = ({username, description}) => {\r\n    return (\r\n        <div className=\"w-full max-w-96 h-auto bg-gray-100 rounded-md p-2 mb-2\">\r\n            <div className=\"max-w-screen-md\">\r\n                <p className=\"text-gray-500 font-semibold text-sm 2xl:text-4xl\"> {username} </p> <p className=\"text-sm 2xl:text-4xl overflow-ellipsis overflow-x-hidden max-h-16\">{description}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment","import { FaRegHeart, FaRegBookmark, FaRegComment, FaHeart, FaBookmark, FaEye, FaEyeSlash, FaAngleRight } from \"react-icons/fa\";\r\nimport Comment from \"../Comment/Comment\";\r\nimport { useState } from 'react';\r\nimport '../../App.css'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nconst getUsername = () => localStorage.getItem(\"username\");\r\n\r\nconst Card = ({ post, like, favorites, handleComment, handleFavorite, isAdmin, onClick, visibility }) => {\r\n    const src = post?.image;\r\n    const [comment, setComment] = useState('');\r\n\r\n    const user = JSON.stringify(post.user.username)\r\n    let userNumber = \"\"\r\n\r\n    if (user[4] === \"_\") {\r\n        userNumber = 0+user[3]\r\n    } else {\r\n        userNumber = user[3]+user[4]\r\n    }\r\n    \r\n    const onChange = (e, save) => {\r\n        save(e.target.value);\r\n    }\r\n\r\n    const sendComment = () => {\r\n        if(comment.length < 8) {\r\n            toast('El comentario debe contener mas de 8 caracteres', { type: 'error' });\r\n        } else {\r\n            handleComment(post._id, comment);\r\n            setComment('');\r\n        }\r\n    }\r\n\r\n    const isLikedByUser = () => post.likes.find(like => like.username === getUsername()) != null;\r\n\r\n    const isFavoriteByUser = (id) => favorites.find(item => item === id) != null;\r\n\r\n    var moment = require('moment')\r\n    moment().locale()\r\n\r\n    let createdAtJSON = post.createdAt;\r\n    let createdJSONDate = Date.parse(createdAtJSON.toString())\r\n    let createdAtDate = moment(createdJSONDate).format('DD/MM/YYYY, hh:mm a')\r\n\r\n    let updatedAtJSON = post.updatedAt\r\n    let updatedJSONDate = Date.parse(updatedAtJSON.toString())\r\n    let updatedAtDate = moment(updatedJSONDate).format('DD/MM/YYYY, hh:mm a')\r\n\r\n\r\n    return (\r\n        <div className=\"m-4 w-auto md:w-11/12 max-w-full mb-5 bg-white rounded-md p-3 shadow-2xl overflow-x-hidden\">\r\n            <ToastContainer\r\n                    position=\"top-center\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnFocusLoss\r\n                    draggable\r\n                    pauseOnHover\r\n                    /> \r\n            <div className=\"w-full inline-flex items-center border-b-2\">\r\n                <div className=\"w-full inline-flex items-center\">\r\n                    <div className=\"p-2 items-center bg-green-500 text-white max-w-max shadow-sm rounded-full w-8 h-8 text-center\" >\r\n                        <div className=\"w-full h-full flex items-center text-center font-semibold\">\r\n                            <p className=\"text-white text-sm w-full\">{userNumber}</p>\r\n                        </div>\r\n                    </div>\r\n                    <h3 className=\"font-semibold p-4 2xl:text-5xl\">{post.user.username} </h3>\r\n                    { post.user.username === getUsername() && isAdmin && <div onClick={() => visibility(post._id)} className=\"p-4 cursor-pointer\">\r\n                    { post.active ? <FaEye/> : <FaEyeSlash/> } </div> }\r\n                </div>\r\n                { post.user.username === getUsername() && isAdmin && <div onClick={() => onClick(post._id, post.active, post.user.username)} className=\"p-4 float-right cursor-pointer\"><FaAngleRight/> </div> }\r\n            </div>\r\n            <img src={src} alt={post.title} className=\"w-96 h-60 sm:h-96 border-b-2 post-image\" />\r\n            <br></br>\r\n            { !isAdmin &&\r\n            <div className=\"w-full flex flex-row\">\r\n                <div className=\"inline-flex items-center mr-4\">\r\n                    <button onClick={() => like(post._id)} className={`p-3 flex items-center bg-white  max-w-max shadow-sm hover:bg-green-200 hover:shadow-lg rounded-full w-10 h-10  `}>\r\n                        <svg className={`w-full h-full flex items-center ${isLikedByUser() && `text-red-600`}`}>\r\n                            {isLikedByUser() ? <FaHeart /> : <FaRegHeart className=\"text-gray-700\" />}\r\n                        </svg>\r\n                    </button >\r\n                    <p className=\"text-red-600 font-semibold ml-2\">\r\n                        {post.likes.length}\r\n                    </p>\r\n                </div>\r\n                <div className=\"inline-flex items-center mr-4\">\r\n                    <div className=\"p-3 flex items-center bg-white text-blue-900 max-w-max shadow-sm rounded-full w-10 h-10\" disabled>\r\n                        <svg className=\"w-full h-full flex items-center\"><FaRegComment /></svg>\r\n                    </div>\r\n                    <p className=\"text-blue-900 font-semibold ml-2\"> {post.comments.length} </p>\r\n                </div>\r\n                <div className=\"inline-flex items-center mr-4\">\r\n                    <button className=\"p-3 flex items-center bg-white text-yellow-400 max-w-max shadow-sm hover:bg-green-200 hover:shadow-lg rounded-full w-10 h-10 \" onClick={() => handleFavorite(post._id)}>\r\n                        <svg className={`w-full h-full flex items-center ${isFavoriteByUser(post._id) && `text-yellow-400`}`}>\r\n                            {isFavoriteByUser(post._id) ? <FaBookmark /> : <FaRegBookmark />}\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n            </div> }\r\n            <div className=\"w-4/5 max-w-1/3\">\r\n                <h4 className=\"text-sm md:text-base 2xl:text-5xl font-semibold overflow-x-hidden\">{post.title}</h4>\r\n                <p className=\"w-60 max-w-full text-sm md:text-base 2xl:text-5xl overflow-x-hidden\">{post.description} </p>\r\n                <p className=\"text-gray-500 text-xs 2xl:text-3xl\">Publicado el {createdAtDate}</p>\r\n                <p className=\"text-gray-500 text-xs 2xl:text-3xl\">Actualizado el {updatedAtDate}</p>\r\n            </div>\r\n            <hr className=\"mb-2\" />\r\n            {\r\n                post.comments.map(function (item, index) {\r\n                    return <Comment key={index} username={item.user.username} description={item.description} />\r\n                })\r\n            }\r\n            { !isAdmin &&\r\n            <div className=\"w-full inline-flex\">\r\n                <input type=\"text\" name=\"comment\" id=\"comment\"\r\n                    placeholder=\"Escribe un comentario\"\r\n                    className=\"w-11/12 border border-gray-700 rounded-md mr-1\"\r\n                    onChange={(e) => onChange(e, setComment)}\r\n                    value={comment} />\r\n\r\n                <button className=\"p-3 pt-4 flex items-center bg-white text-blue-900 max-w-max shadow-sm hover:bg-green-200 hover:shadow-lg rounded-full w-10 h-10 \"\r\n                    onClick={sendComment}>\r\n                    <svg className=\"w-5 h-5 flex items-center\"><FaRegComment /></svg>\r\n                </button>\r\n            </div> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card","import Card from \"../Card/Card\";\r\n\r\nconst Posts = ({ posts=[], navigate, changeVisibility }) => { \r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 mt-12\">\r\n      {\r\n        posts.map( post => {\r\n          return <Card \r\n            key={post._id}\r\n            post={post} \r\n            favorites={[]}\r\n            isAdmin={true}\r\n            onClick={navigate}\r\n            visibility={changeVisibility}\r\n            />\r\n        })\r\n      }\r\n    </div>  \r\n  );\r\n}\r\n\r\nexport default Posts;","import { FaArrowLeft, FaArrowRight } from 'react-icons/fa'\r\n\r\nconst Pagination = ({ next, prev }) => { \r\n    return (\r\n      <div className=\"flex justify-center items-center gap-4 flex-wrap mb-5\">\r\n          <button className=\"inline-flex items-center bg-transparent hover:bg-green-700 text-green-500 font-light py-2 px-6 transition duration-300 ease-in-out border-none hover:text-white rounded start\" onClick={prev}>\r\n              <FaArrowLeft/> <span className=\"mx-2\">Anterior</span>\r\n          </button>\r\n          <button className=\"inline-flex items-center bg-transparent hover:bg-green-700 text-green-500 font-light py-2 px-6 transition duration-300 ease-in-out border-none hover:text-white rounded start\" onClick={next}>\r\n              <span className=\"mx-2\">Siguiente</span> <FaArrowRight />\r\n          </button>\r\n      </div>  \r\n    );\r\n  }\r\n  \r\n  export default Pagination;","import { useState, useEffect } from \"react\";\r\nimport { useUserContext } from '../../Contexts/UserContext'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { postServices } from '../../Services/Admin/Admin.services'\r\nimport Post from '../../Components/Post/Posts';\r\nimport Pagination from '../../Components/Pagination/Pagination';\r\nimport { FaSignOutAlt, FaFileMedical } from \"react-icons/fa\";\r\nimport logo from '../../assets/img/Programigos.png'\r\n\r\n\r\nconst getUsername = () => localStorage.getItem(\"username\");\r\n\r\nexport default function Admin() {\r\n\r\n    const navigate = useNavigate();\r\n    const { logout } = useUserContext();\r\n\r\n    const [posts, setPosts] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const [isNextPageAvailable, setIsNextPageAvailable] = useState(true);\r\n    const [recharge, setRecharge] = useState(false);\r\n    const [query, setQuery] = useState('owned');\r\n\r\n    useEffect(() => {\r\n        const fetchPosts = async () => {\r\n            try {\r\n\r\n                const filters = { limit: 6, page: page, query: query };\r\n                const response = await postServices.getPosts(filters);\r\n\r\n                setIsNextPageAvailable(response.isNextPageAvailable);\r\n                if (!response.success) {\r\n                    throw new Error('Something was wrong')\r\n                }\r\n                setPosts(response.items);\r\n                setRecharge(false);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n        fetchPosts();\r\n    }, [page, recharge, query]);\r\n\r\n    const logoutHandler = () => {\r\n        logout()\r\n        navigate(\"/login\")\r\n    }\r\n\r\n    async function changeVisibility(id) {\r\n        try {\r\n            const response = await postServices.stateVisibilityPost(id);\r\n            if (!response.success) {\r\n                throw new Error('Something was wrong')\r\n            }\r\n            setRecharge(true);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    const changeAllPosts = (type) => {\r\n        setQuery(type)\r\n        setPage(0)\r\n    }\r\n\r\n    const createPost = () => {\r\n        navigate(\"/post\")\r\n    }\r\n\r\n    const navigateToPost = (id, active, username) => {\r\n        if (active && username === getUsername()) navigate('/post/' + id)\r\n    }\r\n\r\n    const next = () => {\r\n        if (isNextPageAvailable) {\r\n            setPage(page + 1);\r\n        }\r\n    }\r\n\r\n    const prev = () => {\r\n        if (page > 0) {\r\n            setPage(page - 1);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full flex justify-center min-h-screen bg-green-100 overflow-x-hidden\">\r\n            <main className=\"w-max h-full\">\r\n                <div className=\"w-full h-12 min-h-12 bg-white text-center justify-center p-1 fixed left-0 right-0 flex flex-row\">\r\n                    <div className=\"w-6/12 md:w-10/12 inline-flex text-center items-center\">\r\n                        <img src={logo} alt=\"<Programigos />\" className=\"w-44 h-10\" />\r\n                    </div>\r\n                    <div className=\"w-6/12 md:w-2/12 inline-flex items-center justify-center\">\r\n                        <button onClick={createPost} className=\"p-3 flex items-center text-green-500 max-w-max hover:bg-green-300 hover:shadow-lg rounded-full w-10 h-10\">\r\n                            <svg className=\"w-full h-full flex items-center\"><FaFileMedical /></svg>\r\n                        </button>\r\n                        <button onClick={logoutHandler} className=\"p-3  mx-4 flex items-center text-green-500 max-w-max hover:bg-green-300 hover:shadow-lg rounded-full w-10 h-10\">\r\n                            <svg className=\"w-full h-full flex items-center\"><FaSignOutAlt /></svg>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bg-white mt-12 shadow-2xl\">\r\n                    <nav className=\"flex flex-col justify-center sm:flex-row\">\r\n                        <button onClick={() => changeAllPosts('owned')} className={`text-gray-600 py-4 px-6 block hover:text-green-500 focus:outline-none ${query === `owned` && `text-green-500 border-b-2 font-medium border-green-500`}`}>Posts del Admin</button>\r\n                        <button onClick={() => changeAllPosts('all')} className={`text-gray-600 py-4 px-6 block hover:text-green-500 focus:outline-none ${query === `all` && `text-green-500 border-b-2 font-medium border-green-500`}`}>Posts de los Usuarios</button>\r\n                    </nav>\r\n                </div>\r\n                <Post posts={posts} navigate={navigateToPost} changeVisibility={changeVisibility} />\r\n                <Pagination next={next} prev={prev} />\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import { useUserContext } from '../../Contexts/UserContext';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst rolePages = {\r\n  \"admin\": \"/admin\",\r\n  \"user\": \"/user\"\r\n}\r\n\r\nconst RedirectUser = () => {\r\n  const { user } = useUserContext();\r\n\r\n  if(!user) return <p> No se puede redireccionar </p>;\r\n\r\n  return <Navigate replace to={rolePages[user.role] ?? \"/\"} />\r\n}\r\n\r\nexport default RedirectUser;","import Card from \"../Card/Card\"\r\n\r\nconst Feed = ({ posts=[], handleLike, handleComment, handleFavorite, favorites }) => {\r\n    return (\r\n        <div className=\"mt-16 flex flex-col bg-gray-300 bg-opacity-10 w-full md:w-2/5 md:min-w-2/5 2xl:w-2/3 h-full md:mx-auto\">\r\n            {\r\n                posts.map(post => {\r\n                    return <Card \r\n                    key={post._id}\r\n                     post={post} \r\n                     like={handleLike}\r\n                     handleComment={handleComment} \r\n                     handleFavorite={handleFavorite}\r\n                     favorites={favorites}\r\n                     isAdmin={false}/>\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Feed","import React, { useState, useEffect } from \"react\";\r\nimport Feed from \"../../Components/Feed/Feed\";\r\nimport Pagination from \"../../Components/Pagination/Pagination\"\r\nimport { FaSignOutAlt, FaBookmark } from \"react-icons/fa\";\r\nimport { useUserContext } from '../../Contexts/UserContext'\r\nimport { allPostServices } from \"../../Services/Users/Users.services\";\r\nimport { postServices } from \"../../Services/Admin/Admin.services\"\r\nimport { useNavigate } from 'react-router-dom'\r\nimport logo from '../../assets/img/Programigos.png'\r\n\r\nconst UserFeed = () => {\r\n    const navigate = useNavigate()\r\n    const { logout } = useUserContext()\r\n\r\n    const [posts, setPosts] = useState([]);\r\n    const [favorites, setFavorites] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const [isNextPageAvailable, setIsNextPageAvailable] = useState(true);\r\n    const [recharge, setRecharge] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchFeedPosts = async () => {\r\n            try {\r\n                const filters = { limit: 10, page: page };\r\n                const response = await allPostServices.getAllPosts(filters)\r\n                const favorites = await allPostServices.getFavorites()\r\n\r\n\r\n                setIsNextPageAvailable(response.isNextPageAvailable);\r\n                if (!response.success) {\r\n                    throw new Error('Something was wrong')\r\n                }\r\n                setRecharge(false)\r\n                setPosts(response.items)\r\n                setFavorites(favorites.items)\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n        fetchFeedPosts();\r\n    }, [page, recharge]);\r\n\r\n    const next = () => {\r\n        if (isNextPageAvailable) {\r\n            window.scrollTo(0, 0);\r\n            setPage(page + 1);\r\n        }\r\n    }\r\n\r\n    const prev = () => {\r\n        if (page > 0) {\r\n            window.scrollTo(0, 0);\r\n            setPage(page - 1);\r\n        }\r\n    }\r\n\r\n    const handleLike = async (id) => {\r\n        try {\r\n            const response = await postServices.handleLike(id)\r\n\r\n            if (!response.success) {\r\n                throw new Error('Something was wrong')\r\n            }\r\n            setRecharge(true)\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    const handleFavorite = async (id) => {\r\n        try {\r\n            const response = await postServices.handleFavorite(id)\r\n\r\n            if (!response.success) {\r\n                throw new Error('Something was wrong')\r\n            }\r\n            setRecharge(true)\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    const handleComment = async (id, comment) => {\r\n        try {\r\n            const response = await postServices.sendComment(id, comment);\r\n\r\n            if (!response.success) {\r\n                throw new Error('Something was wrong')\r\n            }\r\n            setRecharge(true)\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    const logoutHandler = () => {\r\n        logout()\r\n        navigate(\"/login\")\r\n    }\r\n\r\n    const favoritePageHandler = () => {\r\n        navigate(\"/favorites\")\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full flex justify-center min-h-screen bg-green-100 overflow-x-hidden\">\r\n            <main className=\"w-full h-full\">\r\n                <div className=\"w-full h-12 min-h-12 bg-white text-center justify-center p-1 fixed left-0 right-0 flex flex-row shadow-2xl\">\r\n                    <div className=\"w-6/12 md:w-10/12 inline-flex text-center items-center\">\r\n                        <img src={logo} alt=\"<Programigos />\" className=\"w-44 h-10\" />\r\n                    </div>\r\n                    <div className=\"w-6/12 md:w-2/12 inline-flex items-center justify-center\">\r\n                        <button onClick={favoritePageHandler} className=\"p-3 flex items-center text-green-500 max-w-max hover:bg-green-300 hover:shadow-lg rounded-full w-10 h-10\">\r\n                            <svg className=\"w-full h-full flex items-center\"><FaBookmark /></svg>\r\n                        </button>\r\n                        <button onClick={logoutHandler} className=\"p-3 flex mx-4 items-center text-green-500 max-w-max hover:bg-green-300 hover:shadow-lg rounded-full w-10 h-10\">\r\n                            <svg className=\"w-full h-full flex items-center\"><FaSignOutAlt /></svg>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <Feed\r\n                    posts={posts}\r\n                    handleLike={handleLike}\r\n                    handleComment={handleComment}\r\n                    handleFavorite={handleFavorite}\r\n                    favorites={favorites} />\r\n                <Pagination next={next} prev={prev} />\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserFeed","import { ImCross } from \"react-icons/all\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst NotFound = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const onClick = (e) => {\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col justify-center items-center w-screen h-screen bg-gray-100\">\r\n      <ImCross className=\"text-8xl m-4 text-red-600\" />\r\n      <h1 className=\"text-6xl font-roboto text-center mb-6 text-red-600\">404</h1>\r\n      <h2 className=\"text-3xl font-roboto text-center text-red-600\">Página no encontrada</h2>\r\n      <p className=\"text-xl font-roboto text-center text-red-600\">\r\n        Algo salió mal. La página que buscas no existe.\r\n      </p>\r\n      <button\r\n        className=\"font-roboto bg-gray-300 m-4 py-2 px-4 rounded\"\r\n        onClick={(e) => onClick(e)}\r\n      >\r\n        Ir al inicio de sesión\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport { useEffect, useState } from \"react\";\r\nimport { postServices } from '../../Services/Admin/Admin.services';\r\nimport { useParams } from 'react-router';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport logo from '../../assets/img/Programigos.png'\r\nimport { FaSignOutAlt, FaHome } from \"react-icons/fa\";\r\nimport { useUserContext } from '../../Contexts/UserContext'\r\n\r\nconst URLImageRegex = /(https?:\\/\\/.*\\.(?:png|jpg))/i;\r\n\r\nexport default function Post() {\r\n    const DEFAULT_IMG = \"https://psicotecnicoelzahor.es/wp-content/uploads/2016/05/ef3-placeholder-image.jpg\"\r\n    const navigate = useNavigate()\r\n    const { logout } = useUserContext()\r\n\r\n    const { id } = useParams();\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [image, setImage] = useState('');\r\n\r\n    useEffect(() => {\r\n        const getPost = async () => {\r\n            try {\r\n                const response = await postServices.getPost(id);\r\n                setTitle(response.data.title);\r\n                setDescription(response.data.description);\r\n                setImage(response.data.image);\r\n                if (!response.success) {\r\n                    throw new Error('Something was wrong')\r\n                }\r\n\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n        if (id != null) getPost();\r\n    }, [id]);\r\n\r\n    const onChange = (e, save) => {\r\n        save(e.target.value);\r\n    }\r\n\r\n    async function onSubmit(e) {\r\n        e.preventDefault();\r\n        if (id == null) create(); else update();\r\n    }\r\n\r\n    const logoutHandler = () => {\r\n        logout()\r\n        navigate(\"/login\")\r\n    }\r\n\r\n\r\n    async function update() {\r\n        try {\r\n            const isValid = URLImageRegex.test(image !== '' ? image : DEFAULT_IMG)\r\n            if (isValid) {\r\n                if (title.length < 8 || description.length < 8) {\r\n                    toast('Los campos deben contener mas de 8 caracteres', { type: 'error' });\r\n                } else {\r\n                    const response = await postServices.updatePost(id, title, description, image);\r\n                    if (!response.success) {\r\n                        throw new Error('Something was wrong')\r\n                    }\r\n                    toast('Actualizado Correctamente', { type: 'success' });\r\n                }\r\n            } else {\r\n                toast('La URL de la imagen no es valida', { type: 'error' });\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    async function create() {\r\n        try {\r\n            const isValid = URLImageRegex.test(image !== '' ? image : DEFAULT_IMG)\r\n            if (isValid) {\r\n                if (title.length < 8 || description.length < 8) {\r\n                    toast('Los campos deben contener mas de 8 caracteres', { type: 'error' });\r\n                } else {\r\n                    const response = await postServices.createPost(title, description, image);\r\n                    if (!response.success) {\r\n                        throw new Error('Something was wrong')\r\n                    }\r\n                    toast('Creado Correctamente', { type: 'success' });\r\n                    setTitle('');\r\n                    setDescription('');\r\n                    setImage(DEFAULT_IMG);\r\n                }\r\n            } else {\r\n                toast('La URL de la imagen no es valida', { type: 'error' });\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    const adminPageHandler = () => {\r\n        navigate(\"/admin\")\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full flex justify-center min-h-screen bg-green-100\">\r\n            <main className=\"w-max h-full\">\r\n                <div className=\"w-full h-12 min-h-12 bg-white text-center justify-center p-1 fixed left-0 right-0 flex flex-row shadow-2xl\">\r\n                    <div className=\"w-6/12 md:w-10/12 inline-flex text-center items-center\">\r\n                        <img src={logo} alt=\"<Programigos />\" className=\"w-44 h-10\" />\r\n                    </div>\r\n                    <div className=\"w-6/12 md:w-2/12 inline-flex items-center justify-center\">\r\n                        <button onClick={adminPageHandler} className=\"p-3 flex items-center text-green-500 max-w-max hover:bg-green-300 hover:shadow-lg rounded-full w-10 h-10\">\r\n                            <svg className=\"w-full h-full flex items-center\"><FaHome /></svg>\r\n                        </button>\r\n                        <button onClick={logoutHandler} className=\"p-3 flex mx-4 items-center text-green-500 max-w-max hover:bg-green-300 hover:shadow-lg rounded-full w-10 h-10\">\r\n                            <svg className=\"w-full h-full flex items-center\"><FaSignOutAlt /></svg>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"mt-24 flex flex-col space-y-10 justify-center items-center\">\r\n                    <form className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\" onSubmit={onSubmit}>\r\n                        <ToastContainer\r\n                            position=\"top-center\"\r\n                            autoClose={2000}\r\n                            hideProgressBar={false}\r\n                            newestOnTop={false}\r\n                            closeOnClick\r\n                            rtl={false}\r\n                            pauseOnFocusLoss\r\n                            draggable\r\n                            pauseOnHover\r\n                        />\r\n                        <div className=\"mb-4\">\r\n                            <img className=\"w-72 h-72\" src={URLImageRegex.test(image) ? image : DEFAULT_IMG} alt=\"Sunset in the mountains\" />\r\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                                Titulo\r\n                            </label>\r\n                            <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                                type=\"text\"\r\n                                placeholder=\"\"\r\n                                onChange={(e) => onChange(e, setTitle)}\r\n                                value={title}\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-6\">\r\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                                Descripcion\r\n                            </label>\r\n                            <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\r\n                                type=\"text\"\r\n                                placeholder=\"\"\r\n                                onChange={(e) => onChange(e, setDescription)}\r\n                                value={description}\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-6\">\r\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                                Imagen\r\n                            </label>\r\n                            <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\r\n                                type=\"text\"\r\n                                placeholder=\"\"\r\n                                onChange={(e) => onChange(e, setImage)}\r\n                                value={image}\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <button className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline m-auto\" type=\"submit\">\r\n                                {id == null ? `Crear` : `Actualizar`}\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    )\r\n}","import { useUserContext } from './../../Contexts/UserContext';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({role=\"user\", children }) => {\r\n  const { token, user } = useUserContext();\r\n  \r\n  if(!token) return <Navigate replace to=\"/login\"/>;\r\n  if(!user || user.role !== role) return <Navigate replace to=\"/404\"/>;\r\n\r\n  return children;\r\n}\r\n\r\nexport default PrivateRoute;","\r\nimport { FaRegHeart, FaRegComment, FaBookmark, FaHeart } from \"react-icons/fa\";\r\n\r\nconst getUsername = () => localStorage.getItem(\"username\");\r\n\r\nconst FavoritesCard = ({ post, like, handleFavorite }) => {\r\n    const src = post?.image;\r\n\r\n    var moment = require('moment')\r\n    moment().locale()\r\n\r\n    let createdAtJSON = post.createdAt;\r\n    let createdJSONDate = Date.parse(createdAtJSON.toString())\r\n    let createdAtDate = moment(createdJSONDate).format('DD/MM/YYYY, hh:mm a')\r\n\r\n    let updatedAtJSON = post.updatedAt\r\n    let updatedJSONDate = Date.parse(updatedAtJSON.toString())\r\n    let updatedAtDate = moment(updatedJSONDate).format('DD/MM/YYYY, hh:mm a')\r\n\r\n    const isLikedByUser = () => post.likes.find(like => like.username === getUsername()) != null;\r\n\r\n    return (\r\n        <div className=\"w-auto max-w-full h-auto max-h-1/12 bg-white rounded-md p-3 shadow-2xl m-2\">\r\n            <h3 className=\"font-semibold p-4 2xl:text-5xl border-b-2\"> {post.user.username} </h3>\r\n            <img src={src} alt={post.title} className=\"w-full h-80 border-b-2\" />\r\n            <br></br>\r\n            <div className=\"w-max flex flex-row\">\r\n                <div className=\"inline-flex items-center mr-4\">\r\n                    <button onClick={() => like(post._id)} className={`p-3 flex items-center bg-white  max-w-max shadow-sm hover:bg-green-200 hover:shadow-lg rounded-full w-10 h-10  `}>\r\n                        <svg className={`w-full h-full flex items-center ${isLikedByUser() && `text-red-600`}`}>\r\n                            {isLikedByUser() ? <FaHeart /> : <FaRegHeart />}\r\n                        </svg>\r\n                    </button >\r\n                    <p className=\"text-red-600 font-semibold ml-2\">\r\n                        {post.likes.length}\r\n                    </p>\r\n                </div>\r\n                <div className=\"inline-flex items-center mr-4\">\r\n                    <div className=\"p-3 flex items-center bg-white text-blue-900 max-w-max shadow-sm rounded-full w-10 h-10\" disabled>\r\n                        <svg className=\"w-full h-full flex items-center\"><FaRegComment /></svg>\r\n                    </div>\r\n                    <p className=\"text-blue-900 font-semibold\"> {post.comments.length} </p>\r\n                </div>\r\n                <div className=\"inline-flex items-center mr-4\">\r\n                    <button className=\"p-3 flex items-center bg-white text-yellow-400 max-w-max shadow-sm hover:bg-gray-300 hover:shadow-lg rounded-full w-10 h-10 \" onClick={() => handleFavorite(post._id)}>\r\n                        <svg className=\"w-full h-full flex items-center\"><FaBookmark /></svg>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <h4 className=\"text-sm md:text-base 2xl:text-5xl font-semibold\">{post.title}</h4>\r\n            <p className=\"text-sm md:text-base 2xl:text-5xl\"> {post.description} </p>\r\n            <p className=\"text-gray-500 text-xs 2xl:text-3xl\">Publicado el {createdAtDate} </p>\r\n            <p className=\"text-gray-500 text-xs 2xl:text-3xl\">Actualizado el {updatedAtDate} </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FavoritesCard","import FavoritesCard from \"../FavoritesCard/FavoritesCard\"\r\n\r\nconst FavoritePost = ({ posts=[], handleFavorite, handleLike }) => {\r\n    return (\r\n        <div className=\"mt-16 m-auto grid grid-flow-row md:grid-cols-3 auto-col-auto bg-green-100 bg-opacity-10 w-full md:w-10/12 h-full md:mx-auto\">\r\n            {\r\n                posts.map(post => {\r\n                    return <FavoritesCard \r\n                    key={post._id} \r\n                    post={post} \r\n                    like={handleLike}\r\n                    handleFavorite={handleFavorite}\r\n                    />\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FavoritePost","import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useUserContext } from '../../Contexts/UserContext'\r\nimport { FaSignOutAlt, FaHome } from \"react-icons/fa\";\r\nimport { allPostServices } from \"../../Services/Users/Users.services\";\r\nimport { postServices } from \"../../Services/Admin/Admin.services\"\r\nimport FavoritePost from \"../../Components/FavoritePosts/FavoritePost\";\r\nimport logo from '../../assets/img/Programigos.png'\r\n\r\nconst Favorites = () => {\r\n    const navigate = useNavigate()\r\n    const { logout } = useUserContext()\r\n\r\n    const [posts, setPosts] = useState([]);\r\n    const [recharge, setRecharge] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchFavoritePosts = async () => {\r\n            try {\r\n                const response = await allPostServices.getFavorites()\r\n                if (!response.success) {\r\n                    throw new Error('Something was wrong')\r\n                }\r\n                setPosts([]);\r\n                await response.items.map(async id => {\r\n                    const postResponse = await postServices.getPost(id)   \r\n                    const isDuplicated = posts.find(element => element._id === postResponse.data._id)\r\n                    if(postResponse.success && isDuplicated == null) setPosts(oldPosts => [...oldPosts, postResponse.data])\r\n                });\r\n                setRecharge(false);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n        fetchFavoritePosts();\r\n    },[recharge]);\r\n\r\n\r\n    const handleLike = async (id) => {\r\n        try {\r\n            const response = await postServices.handleLike(id)\r\n\r\n            if (!response.success) {\r\n                throw new Error('Something was wrong')\r\n            }\r\n            setRecharge(true)\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    const handleFavorite = async (id) => {\r\n        try {\r\n            const response = await postServices.handleFavorite(id)\r\n\r\n            if (!response.success) {\r\n                throw new Error('Something was wrong')\r\n            }\r\n            setRecharge(true)\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    const logoutHandler = () => {\r\n        logout()\r\n        navigate(\"/login\")\r\n    }\r\n\r\n    const feedPageHandler = () => {\r\n        navigate(\"/user\")\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full flex justify-center min-h-screen bg-green-100\">\r\n            <main className=\"w-max h-full\">\r\n                <div className=\"w-full h-12 min-h-12 bg-white text-center justify-center p-1 fixed left-0 right-0 flex flex-row shadow-2xl\">\r\n                    <div className=\"w-6/12 md:w-10/12 inline-flex text-center items-center\">\r\n                        <img src={logo} alt=\"<Programigos />\" className=\"w-44 h-10\" />\r\n                    </div>\r\n                    <div className=\"w-6/12 md:w-2/12 inline-flex items-center justify-center\">\r\n                        <button onClick={feedPageHandler} className=\"p-3 flex items-center text-green-500 max-w-max hover:bg-green-300 hover:shadow-lg rounded-full w-10 h-10\">\r\n                            <svg className=\"w-full h-full flex items-center\"><FaHome /></svg>\r\n                        </button>\r\n                        <button onClick={logoutHandler} className=\"p-3 flex mx-4 items-center text-green-500 max-w-max hover:bg-green-300 hover:shadow-lg rounded-full w-10 h-10\">\r\n                            <svg className=\"w-full h-full flex items-center\"><FaSignOutAlt /></svg>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                {posts.length === 0 ? <p className=\"mt-32 font-bold text-green-700 border-2 border-green-700 p-3 rounded-md bg-white\">No hay elementos guardados</p> :\r\n                <FavoritePost \r\n                    posts={posts} \r\n                    handleLike={handleLike}\r\n                    handleFavorite={handleFavorite}\r\n                />}\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Favorites","import Login from './pages/Login/Login';\r\nimport Admin from './pages/Admin/Admin';\r\nimport RedirectUser from './pages/Redirect/RedirectUser';\r\nimport UserFeed from './pages/UserFeed/UserFeed';\r\nimport NotFound from './pages/NotFound/NotFound';\r\nimport Post from './pages/Post/Post';\r\n\r\nimport Private from './Components/PrivateRoute/PrivateRoute';\r\nimport { HashRouter, Routes, Route } from \"react-router-dom\";\r\n\r\nimport './App.css';\r\nimport Favorites from './pages/Favorites/Favorites';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <HashRouter>\r\n      <Routes>        \r\n        <Route path=\"/login\" element={<Login />} />\r\n        <Route path=\"/redirect\" element={<RedirectUser />}/>\r\n        <Route path=\"/user\" element={<UserFeed />}/>\r\n        <Route path=\"/admin\"  element={<Private role=\"admin\"><Admin /></Private>} />\r\n        <Route path=\"*\" element={<NotFound />} />\r\n        <Route path=\"/post/:id\" element={<Post />} />\r\n        <Route path=\"/post\" element={<Post />} />\r\n        <Route path=\"/favorites\" element={<Favorites />} />\r\n      </Routes>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { UserProvider } from './Contexts/UserContext'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <UserProvider>\r\n      <App />\r\n    </UserProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}